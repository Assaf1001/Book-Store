(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{260:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n(16),r=n.n(s),i=n(4),o=n(18),l=n(5),u=n(70),j=n.n(u),d="user-data",b=function(e){var t=JSON.stringify(e);j.a.set(d,t,{expires:1,sameSite:"strict"})},h=function(){return j.a.remove(d,{sameSite:"strict"})},O=n(32),p={user:null,toekn:"",isAdmin:null},x=function(e,t){switch(t.type){case"LOG-IN":return{user:Object(O.a)({},t.user),token:t.token,isAdmin:t.isAdmin};case"LOG-OUT":return p;default:return Object(O.a)({},e)}},m=Object(a.createContext)(),v=function(e){var t=function(){var e=j.a.get(d);return void 0===e?null:JSON.parse(e)}(),n=Object(a.useReducer)(x,t||p),s=Object(l.a)(n,2),r=s[0],i=s[1];return Object(c.jsx)(m.Provider,{value:{userData:r,dispatchUserData:i},children:e.children})},f=function(e){return{type:"LOG-IN",user:e.user,token:e.token,isAdmin:e.isAdmin}},g=n(13),N=n(15),k=n(80),w={user:Object(c.jsx)(g.a,{icon:N.x}),home:Object(c.jsx)(g.a,{icon:N.j}),logIn:Object(c.jsx)(g.a,{icon:N.t}),logOut:Object(c.jsx)(g.a,{icon:N.u}),contactUs:Object(c.jsx)(g.a,{icon:N.f}),help:Object(c.jsx)(g.a,{icon:N.k}),search:Object(c.jsx)(g.a,{icon:N.p}),fliter:Object(c.jsx)(g.a,{icon:N.h}),downArrow:Object(c.jsx)(g.a,{icon:N.c}),rightArrow:Object(c.jsx)(g.a,{icon:N.d}),wishList:Object(c.jsx)(g.a,{icon:N.i}),cart:Object(c.jsx)(g.a,{icon:N.s}),check:Object(c.jsx)(g.a,{icon:N.b}),truck:Object(c.jsx)(g.a,{icon:N.w}),view:Object(c.jsx)(g.a,{icon:N.g}),basket:Object(c.jsx)(g.a,{icon:N.r}),plus:Object(c.jsx)(g.a,{icon:N.m}),creditCard:Object(c.jsx)(g.a,{icon:N.e}),visa:Object(c.jsx)(g.a,{icon:k.a}),paypal:Object(c.jsx)(g.a,{icon:k.b}),delete:Object(c.jsx)(g.a,{icon:N.v}),returns:Object(c.jsx)(g.a,{icon:N.o}),privacy:Object(c.jsx)(g.a,{icon:N.q}),faq:Object(c.jsx)(g.a,{icon:N.n}),find:Object(c.jsx)(g.a,{icon:N.l}),hamburger:Object(c.jsx)(g.a,{icon:N.a})},y=function(){var e=Object(a.useContext)(m),t=e.userData,n=e.dispatchUserData,s=Object(o.g)();return Object(c.jsx)("div",{className:"login-bar__container",children:Object(c.jsxs)("div",{className:"login-bar center",children:[Object(c.jsxs)("div",{className:"general",children:[Object(c.jsxs)(i.c,{to:"/home",activeClassName:"login-active",children:[Object(c.jsx)("span",{children:w.home})," HOME"]}),Object(c.jsxs)(i.c,{to:"/contactUs",activeClassName:"login-active",children:[Object(c.jsx)("span",{children:w.contactUs})," CONTACT US"]}),Object(c.jsxs)(i.c,{to:"/help",activeClassName:"login-active",children:[Object(c.jsx)("span",{children:w.help})," HELP"]})]}),!!t.user&&Object(c.jsxs)("span",{className:"greeting",children:["Hi ",t.isAdmin&&"ADMIN"," ,"," ",t.user.name.toUpperCase(),"!"]}),Object(c.jsxs)("div",{className:"user",children:[Object(c.jsxs)(i.c,{to:"/myAccount",activeClassName:"login-active",children:[Object(c.jsx)("span",{children:w.user})," MY ACCOUNT"]}),t.user?Object(c.jsxs)("div",{className:"logout",onClick:function(){n({type:"LOG-OUT"}),h(),s.push("/home")},children:[Object(c.jsx)("span",{children:w.logOut})," LOG-OUT"]}):Object(c.jsxs)(i.c,{to:"/login",activeClassName:"login-active",children:[Object(c.jsx)("span",{children:w.logIn})," LOG-IN / SIGN-UP"]})]})]})})},A=n.p+"static/media/logo.9825f1bb.png",C=function(){var e=Object(o.g)();return Object(c.jsx)("div",{className:"search-bar__container",children:Object(c.jsxs)("div",{className:"search-bar center",children:[Object(c.jsx)(i.c,{to:"/home",children:Object(c.jsx)("img",{src:A,alt:"logo"})}),Object(c.jsx)("div",{className:"search__container",children:Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target[0].value;0!==n.length&&(t.target[0].value="",e.push("/searchResult/".concat(n)))},children:[Object(c.jsxs)("div",{className:"input__container",children:[Object(c.jsx)("span",{children:w.search}),Object(c.jsx)("input",{type:"text",placeholder:"Search by title or author"})]}),Object(c.jsx)("button",{type:"submit",children:"SEARCH"})]})})]})})},S=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1];return window.onclick=function(e){"animate__slide-down"!==n||e.target.parentNode.matches(".dropdown-menu")||e.target.parentNode.parentNode.matches(".dropdown-menu")||e.target.matches("path")||s("animate__slide-up")},Object(c.jsx)("div",{className:"menu-bar__container",children:Object(c.jsxs)("div",{className:"menu-bar center",children:[Object(c.jsxs)("div",{className:"menus",children:[Object(c.jsxs)("div",{className:"dropdown-menu",children:[Object(c.jsxs)("h3",{onClick:function(){s(""===n||"animate__slide-up"===n?"animate__slide-down":"animate__slide-up")},children:["GENRES ",w.downArrow]}),Object(c.jsxs)("ul",{className:n,children:[Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/genres/action",children:" Action"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/genres/adventure",children:"Adevnture"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/genres/fantasy",children:" Fantasy"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/genres/comedy",children:" Comedy"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/genres/drama",children:" Drama"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/genres/romance",children:" Romance"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/genres/horror",children:" Horror"})})]})]}),Object(c.jsx)(i.c,{to:"/bestSellers",activeClassName:"menu-active",children:"BEST SELLERS"}),Object(c.jsx)(i.c,{to:"/newReleases",activeClassName:"menu-active",children:"NEW RELEASES"}),Object(c.jsx)(i.c,{to:"/onSale",activeClassName:"menu-active",children:"ON SALE"}),Object(c.jsx)(i.c,{to:"/comingSoon",activeClassName:"menu-active",children:"COMING SOON"})]}),Object(c.jsxs)("div",{className:"items",children:[Object(c.jsxs)(i.c,{to:"/wishList",children:[Object(c.jsx)("span",{children:w.wishList})," WISH LIST"]}),Object(c.jsxs)(i.c,{to:"/cart",children:[Object(c.jsx)("span",{children:w.cart})," CART"]})]})]})})},E=n(294),_=n(292),I=n(288),L=n(291),T=n(290),M=function(){var e=Object(a.useContext)(m),t=e.userData,n=e.dispatchUserData,s=Object(o.g)(),r=Object(a.useState)(!1),u=Object(l.a)(r,2),j=u[0],d=u[1],b=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&d(e)}},O=[Object(c.jsxs)(i.c,{to:"/home",children:[Object(c.jsx)("span",{children:w.home})," HOME"]}),Object(c.jsxs)(i.c,{to:"/contactUs",children:[Object(c.jsx)("span",{children:w.contactUs})," CONTACT US"]}),Object(c.jsxs)(i.c,{to:"/help",children:[Object(c.jsx)("span",{children:w.help})," HELP"]})],p=[Object(c.jsx)(i.b,{to:"/genres/action",children:" Action"}),Object(c.jsx)(i.b,{to:"/genres/adventure",children:"Adevnture"}),Object(c.jsx)(i.b,{to:"/genres/fantasy",children:" Fantasy"}),Object(c.jsx)(i.b,{to:"/genres/comedy",children:" Comedy"}),Object(c.jsx)(i.b,{to:"/genres/drama",children:" Drama"}),Object(c.jsx)(i.b,{to:"/genres/romance",children:" Romance"}),Object(c.jsx)(i.b,{to:"/genres/horror",children:" Horror"})],x=[Object(c.jsx)(i.c,{to:"/bestSellers",activeClassName:"menu-active",children:"BEST SELLERS"}),Object(c.jsx)(i.c,{to:"/newReleases",activeClassName:"menu-active",children:"NEW RELEASES"}),Object(c.jsx)(i.c,{to:"/onSale",activeClassName:"menu-active",children:"ON SALE"}),Object(c.jsx)(i.c,{to:"/comingSoon",activeClassName:"menu-active",children:"COMING SOON"})],v=[Object(c.jsxs)(i.c,{to:"/cart",children:[Object(c.jsx)("span",{children:w.cart})," CART"]}),Object(c.jsxs)(i.c,{to:"/wishList",children:[Object(c.jsx)("span",{children:w.wishList})," WISH LIST"]}),Object(c.jsxs)(i.c,{to:"/myAccount",activeClassName:"login-active",children:[Object(c.jsx)("span",{children:w.user})," MY ACCOUNT"]}),t.user?Object(c.jsxs)("div",{className:"logout",onClick:function(){n({type:"LOG-OUT"}),h(),s.push("/home")},children:[Object(c.jsx)("span",{children:w.logOut})," LOG-OUT"]}):Object(c.jsxs)(i.c,{to:"/login",activeClassName:"login-active",children:[Object(c.jsx)("span",{children:w.logIn})," LOG-IN / SIGN-UP"]})];return Object(c.jsx)("div",{children:Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(_.a,{onClick:b(!0),children:w.hamburger}),Object(c.jsx)(E.a,{open:j,onClose:b(!1),onOpen:b(!0),children:Object(c.jsxs)("div",{onClick:b(!1),onKeyDown:b(!1),children:[Object(c.jsx)(I.a,{children:O.map((function(e,t){return Object(c.jsx)(T.a,{button:!0,children:e},t)}))}),Object(c.jsx)(L.a,{}),Object(c.jsx)(I.a,{children:p.map((function(e,t){return Object(c.jsx)(T.a,{button:!0,children:e},t)}))}),Object(c.jsx)(L.a,{}),Object(c.jsx)(I.a,{children:x.map((function(e,t){return Object(c.jsx)(T.a,{button:!0,children:e},t)}))}),Object(c.jsx)(L.a,{}),Object(c.jsx)(I.a,{children:v.map((function(e,t){return Object(c.jsx)(T.a,{button:!0,children:e},t)}))})]})})]})})},D=function(){var e=Object(o.g)();return Object(c.jsxs)("div",{className:"header-moblie__container",children:[Object(c.jsxs)("div",{className:"menu-bar",children:[Object(c.jsx)(M,{}),Object(c.jsx)(i.c,{to:"/home",children:Object(c.jsx)("img",{src:A,alt:"logo"})}),Object(c.jsx)(i.c,{to:"/cart",children:Object(c.jsx)("span",{className:"cart",children:w.cart})})]}),Object(c.jsx)("div",{className:"search-bar",children:Object(c.jsx)("div",{className:"search__container",children:Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target[0].value;0!==n.length&&(t.target[0].value="",e.push("/searchResult/".concat(n)))},children:[Object(c.jsxs)("div",{className:"input__container",children:[Object(c.jsx)("span",{}),Object(c.jsx)("input",{type:"text",placeholder:"Search by title or author"})]}),Object(c.jsx)("button",{type:"submit",children:w.search})]})})}),Object(c.jsx)("div",{className:"gray-line"})]})},R=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(D,{}),Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)(C,{}),Object(c.jsx)(S,{})]})]})},P=n.p+"static/media/logodown.272cea8a.svg",B=function(){return Object(c.jsx)("div",{className:"footer__container",children:Object(c.jsxs)("div",{className:"footer__content center",children:[Object(c.jsx)("div",{className:"section1",children:Object(c.jsx)(i.c,{onClick:function(){window.scroll(0,0)},to:"/home",children:Object(c.jsx)("img",{src:P,alt:"logo-down"})})}),Object(c.jsxs)("div",{className:"section2",children:[Object(c.jsx)(i.c,{to:"aboutUs",children:"About us"}),Object(c.jsx)(i.c,{to:"login",children:"Log-in / Sign-up"}),Object(c.jsx)(i.c,{to:"/contactUs",children:"Contact us"})]}),Object(c.jsxs)("div",{className:"section3",children:[Object(c.jsx)(i.b,{to:"/",children:"Privacy policy"}),Object(c.jsx)(i.b,{to:"/",children:"Terms & conditions"}),Object(c.jsx)(i.b,{to:"/",children:"Payment"}),Object(c.jsx)(i.b,{to:"/",children:"FAQ"})]}),Object(c.jsxs)("div",{className:"section4",children:[Object(c.jsxs)("p",{children:["Want to know everything about new Manga, sales and discounts? ",Object(c.jsx)("br",{})," subscribe to MANGA with your Email and know everything first!"]}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(c.jsx)("input",{type:"text",placeholder:"Email adress"}),Object(c.jsx)("button",{children:"SEND"})]})]})]})})},F=Object(a.createContext)(),U=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),u=o[0],j=o[1],d=Object(a.useState)({}),b=Object(l.a)(d,2),h=b[0],O=b[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),m=x[0],v=x[1],f=Object(a.useState)(""),g=Object(l.a)(f,2),N=g[0],k=g[1],w=Object(a.useState)(!1),y=Object(l.a)(w,2),A=y[0],C=y[1],S=Object(a.useState)(!1),E=Object(l.a)(S,2),_=E[0],I=E[1];return Object(c.jsx)(F.Provider,{value:{isItemAdded:s,setIsItemAdded:r,isAddedToWishList:u,setIsAddedToWishList:j,addedBook:h,setAddedBook:O,isModalActive:m,modalMessage:N,toggleModal:function(e){m?(v(!1),C(!1),j(!1),I(!1)):(k(e),v(!0))},isEditBook:A,setIsEditBook:C,isChangeDetails:_,setIsChangeDetails:I},children:e.children})},G=n(35),W=[],H=function(e,t){switch(t.type){case"INIT":return Object(G.a)(t.books);case"FILTER":var n=t.filterArray;return t.pageBooksList.filter((function(e){return(""===n[0]||e.title.toLowerCase().includes(n[0].toLowerCase()))&&("All"===n[1]||e.author.toLowerCase().includes(n[1].toLowerCase()))&&("All"===n[2]||e.category.toLowerCase().includes(n[2].toLowerCase()))&&("All"===n[3]||e.details.language.toLowerCase().includes(n[3].toLowerCase()))&&(0===Object.keys(n[4]).length||e.price>=n[4].min&&e.price<=n[4].max)}));default:return Object(G.a)(e)}},V=function(e){return{type:"INIT",books:e}},z=n(6),Y=n.n(z),$=n(10),J=n(11),K=n.n(J),q="".concat("https://assaf-harush-manga-server.herokuapp.com","/books"),Q=function(){var e=Object($.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(q,"/discounted"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),404!==e.t0.response.status){e.next=11;break}throw new Error(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object($.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(q,"/bestSellers"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),404!==e.t0.response.status){e.next=11;break}throw new Error(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object($.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(q,"/newReleases"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),404!==e.t0.response.status){e.next=11;break}throw new Error(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(q,"/find"),{params:{field:t,value:n}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(q,"/id/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),404!==e.t0.response.status){e.next=13;break}throw new Error(e.t0.response.data.message);case 13:throw new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(q,"/new"),{book:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object($.a)(Y.a.mark((function e(t,n,c){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.patch("".concat(q,"/id"),{bookId:t,book:n},{headers:{Authorization:"Bearer ".concat(c)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c){return e.apply(this,arguments)}}(),ae=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.delete("".concat(q,"/id"),{headers:{Authorization:"Bearer ".concat(n)},data:{bookId:t}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),se=function(e){var t=e.icon,n=e.text;return Object(c.jsxs)("div",{className:"customer-info__item--container",children:[Object(c.jsx)("div",{className:"customer-info__item",children:t}),Object(c.jsx)("span",{children:n})]})},re=[{icon:w.truck,text:Object(c.jsx)("p",{children:" SHIPPING"})},{icon:w.creditCard,text:Object(c.jsx)("p",{children:" PAYMENT"})},{icon:w.returns,text:Object(c.jsx)("p",{children:" RETURNS"})},{icon:w.privacy,text:Object(c.jsxs)("p",{children:["PRIVACY ",Object(c.jsx)("br",{})," POLICY"]})},{icon:w.faq,text:Object(c.jsx)("p",{children:" FAQ"})},{icon:w.find,text:Object(c.jsxs)("p",{children:["FIND A ",Object(c.jsx)("br",{})," STORE"]})}],ie=function(){return Object(c.jsxs)("div",{className:"customer-info__continer center",children:[Object(c.jsx)("h3",{children:"CUSTOMER INFORMATION"}),Object(c.jsx)("div",{className:"customer-info__contnet",children:re.map((function(e){return Object(c.jsx)(se,{icon:e.icon,text:e.text},re.indexOf(e))}))})]})},oe=n(64),le=n.n(oe),ue=(n(95),"".concat("https://assaf-harush-manga-server.herokuapp.com","/users/me")),je=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(ue,"/addToWishList"),{bookId:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.patch("".concat(ue,"/removeFromWishList"),{bookId:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(ue,"/moveToCart"),{bookId:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(ue,"/moveAllToCart"),{books:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Oe=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(ue,"/wishList"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.patch("".concat(ue,"/wishList"),{},{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(ue,"/addToCart"),{bookId:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(ue,"/cart"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object($.a)(Y.a.mark((function e(t,n,c){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(ue,"/cart/"),{bookId:t,quantity:n},{headers:{Authorization:"Bearer ".concat(c)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c){return e.apply(this,arguments)}}(),fe=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(ue,"/purchased"),{purchased:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.patch("".concat(ue,"/cart"),{},{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(ue,"/purchased"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(e){var t,n,s=e.book,r=Object(a.useContext)(m).userData,l=Object(a.useContext)(F),u=l.setIsItemAdded,j=l.setIsAddedToWishList,d=l.setAddedBook,b=l.toggleModal,h=Object(o.g)();return Object(c.jsxs)("div",{className:"books-carousel__item",children:[Object(c.jsx)(i.b,{to:"/book/".concat(s._id),children:Object(c.jsx)("img",{src:s.image,alt:s.title})}),Object(c.jsx)(i.b,{to:"/book/".concat(s._id),children:Object(c.jsx)("h4",{children:s.title})}),Object(c.jsx)("h5",{children:s.author}),Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsxs)("h6",{style:s.discountInPercentage&&{textDecoration:"line-through",fontWeight:"300"},children:[s.price,"$"]}),s.discountInPercentage&&Object(c.jsxs)("span",{children:[" -",s.discountInPercentage,"%"]})]}),s.discountInPercentage&&Object(c.jsxs)("h6",{children:[(t=s.price,n=s.discountInPercentage,Math.floor(t-t*n/100)),"$"]}),Object(c.jsxs)("div",{className:"buttons-container",children:[Object(c.jsx)("div",{className:"top-button",children:Object(c.jsx)("div",{children:Object(c.jsxs)(i.b,{to:"/book/".concat(s._id),children:[" ",Object(c.jsxs)("p",{children:[w.view," VIEW"]})," "]})})}),Object(c.jsxs)("div",{className:"bottom-container",children:[Object(c.jsx)("div",{onClick:function(){r.user?je(s._id,r.token).then((function(){u(!0),j(!0),d(s)})).catch((function(e){j(!0),b(e.message.toString())})):h.push("/myAccount")},className:"bottom-button",children:Object(c.jsxs)("p",{children:[w.wishList," WISH"]})}),Object(c.jsx)("div",{onClick:function(){r.user?xe(s._id,r.token).then((function(){u(!0),d(s)})).catch((function(e){return console.log(e)})):h.push("/myAccount")},className:"bottom-button __2",children:Object(c.jsxs)("p",{children:[w.cart," ADD"]})})]})]})]})},we=function(){var e=Object(a.useContext)(F),t=e.setIsItemAdded,n=e.isAddedToWishList,s=e.setIsAddedToWishList,r=e.addedBook;return window.onclick=function(e){e.target.matches(".blur-background")&&t(!1)},Object(c.jsx)("div",{className:"add-to-cart-modal",children:Object(c.jsxs)("div",{className:"add-to-cart-modal__content",children:[Object(c.jsx)("img",{src:r.image,alt:r.title}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"circle",children:Object(c.jsx)("span",{children:w.plus})}),Object(c.jsxs)("h1",{children:[r.title," ",Object(c.jsx)("br",{})," by ",r.author]}),Object(c.jsxs)("h2",{children:["ADDED TO ",n?"WISH LIST":"CART","!"]})]}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsxs)("div",{className:"button",onClick:function(){s(!1),t(!1)},children:[Object(c.jsx)("span",{children:w.basket})," CONTINUE SHOPPING"]}),Object(c.jsxs)(i.b,{onClick:function(){s(!1),t(!1)},to:n?"/wishList":"/cart",children:[Object(c.jsx)("span",{children:n?w.wishList:w.cart})," ","GO TO ",n?"WISH LIST":"CART"]})]})]})})},ye=function(e){var t=Object(a.useContext)(F).toggleModal;return Object(c.jsxs)("div",{className:"admin__modal",children:[Object(c.jsx)("h1",{children:e.message}),Object(c.jsxs)("div",{className:"buttons-container",children:[e.children,Object(c.jsxs)("button",{onClick:t,children:[" ",e.closeButton]})]})]})},Ae=function(e){var t=e.responsive,n=e.books,s=Object(a.useContext)(F),r=s.isItemAdded,i=s.modalMessage,o=s.isModalActive,l=s.isAddedToWishList;return Object(c.jsxs)("div",{className:"books-carousel__container",children:[Object(c.jsx)(le.a,{responsive:t,children:n.map((function(e){return Object(c.jsx)(ke,{book:e},e._id)}))}),r&&Object(c.jsx)(we,{}),o&&l&&Object(c.jsx)(ye,{message:i,closeButton:"CLOSE"})]})},Ce=function(e){var t=e.img,n=e.text,a=e.button,s=e.textColor,r=e.to,i=Object(o.g)();return Object(c.jsxs)("div",{className:"images-carousel__item",style:{backgroundImage:"url(".concat(t,")")},children:[Object(c.jsx)("h2",{style:{color:"".concat(s.toString())},children:n}),Object(c.jsxs)("button",{onClick:function(){i.push("SIGN UP"===a?JSON.parse(r):r)},children:[a," ",w.rightArrow]})]})},Se=[{img:"https://a-static.besthdwallpaper.com/tokyo-ghoul-kaneki-ken-black-reaper-wallpaper-1920x1280-9351_38.jpg",text:"Become a MANGA member..",button:"SIGN UP",textColor:"#ff6600",to:'{ "pathname": "/login", "state": { "signUp": true } }'},{img:"https://s.yimg.com/hz/en_us/Finance/US_AFTP_SILICONALLEY_H_LIVE/Teens_are_absolutely_obsessed_with-aa5988138ba7fda278d39e6ac9635cf8",text:"Check out our new releases!",button:"NEW RELEASES",textColor:"white",to:"/newReleases"},{img:"https://a-static.besthdwallpaper.com/sword-art-online-alicization-alice-synthesis-thirty-eugeo-kirito-wallpaper-1920x1080-18491_48.jpg",text:"New MANGA is on the way",button:"COMING SOON",textColor:"white",to:"/comingSoon"},{img:"https://wallpapercave.com/wp/fB42Y0H.jpg",text:"We will be happy to hear from you",button:"CONTACT US",textColor:"white",to:"/contactUs"}],Ee=function(){return Object(c.jsx)("div",{className:"images-carousel__container",children:Object(c.jsx)(le.a,{autoPlay:!0,autoPlaySpeed:3e3,infinite:!0,showDots:!0,responsive:{desktop:{breakpoint:{max:4e3,min:0},items:1}},children:Se.map((function(e){return Object(c.jsx)(Ce,{img:e.img,text:e.text,button:e.button,textColor:e.textColor,to:e.to},Se.indexOf(e))}))})})},_e=function(e){return Object(c.jsxs)("div",{style:{backgroundImage:"url(".concat(e.background,")")},className:"box "+e.class,children:[Object(c.jsx)("h2",{children:e.header}),e.children,Object(c.jsx)(i.b,{to:e.url,children:e.showButton&&Object(c.jsxs)("button",{className:"view-more__button",children:[e.button?e.button:"VIEW MORE"," ",Object(c.jsx)("span",{children:w.rightArrow})]})})]})},Ie=function(){return Object(c.jsxs)("p",{className:"text",children:[Object(c.jsx)("b",{children:"What is manga?"})," Manga is an umbrella term for a wide variety of comic books and graphic novels originally produced and published in Japan. Unlike American comic books, which are usually printed in full color, Japanese manga is almost always black and white. Full-color prints are often only used for special releases. ",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),'Japanese manga is read right-to-left rather than left-to-right, which is the norm for English language publications. This can take some getting used to if you have only ever read English publications as it often feels like you\u2019re "reading backwards," but you will hardly notice once you\u2019ve practiced enough. ',Object(c.jsx)("br",{})," ",Object(c.jsx)("br",{})," In Japan, a lot of manga are released on a monthly or a weekly chapter-by-chapter basis through manga magazines such as Weekly Sh\u014dnen Jump, which has been in circulation since 1968. If a series is popular enough, its chapters are then collected and published into volumes called tank\u014dbon volumes, which usually feature a few chapters of the overall story.",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"Most manga series are long-running and can span multiple volumes. This is something to keep in mind when starting a new series as it is imperative you read the volumes in the correct order. This might be easier for small series, such as Naoko Takeuchi's Sailor Moon, which only has 12 volumes, versus longer-running series such as Akira Toriyama's Dragon Ball, which has 42 volumes."]})},Le=n.p+"static/media/HanterXHanter.cc0d5917.jpg",Te=n.p+"static/media/NarutoFace.0abac692.png",Me=n.p+"static/media/TokyoGhoulFace.94e2a517.jpg",De=function(){var e=Object(o.g)();return Object(c.jsxs)("div",{className:"popular-manga__container",children:[Object(c.jsxs)("div",{className:"popular-manga__conenet",children:[Object(c.jsx)("img",{src:Te,alt:"NarutoFace"}),Object(c.jsx)("p",{children:" Naruto"}),Object(c.jsxs)("button",{onClick:function(){return e.push("/searchResult/Naruto")},className:"view-more__button",children:["VIEW MORE",Object(c.jsx)("span",{children:w.rightArrow})]})]}),Object(c.jsxs)("div",{className:"popular-manga__conenet",children:[Object(c.jsx)("img",{src:Me,alt:"TokyoGhoulFace"}),Object(c.jsx)("p",{children:" Tokyo Ghoul"}),Object(c.jsxs)("button",{onClick:function(){return e.push("/searchResult/Tokyo Ghoul")},className:"view-more__button",children:["VIEW MORE",Object(c.jsx)("span",{children:w.rightArrow})]})]})]})},Re=function(){var e=Object(a.useContext)(F),t=e.isItemAdded,n=e.setIsAddedToWishList,s=e.toggleModal,r=e.isModalActive,i=Object(a.useReducer)(H,W),o=Object(l.a)(i,2),u=o[0],j=o[1],d=Object(a.useReducer)(H,W),b=Object(l.a)(d,2),h=b[0],O=b[1],p=[{desktop:{breakpoint:{max:8e3,min:1024},items:4,slidesToSlide:4},tablet:{breakpoint:{max:1024,min:668},items:4,slidesToSlide:4},smallTablet:{breakpoint:{max:720,min:520},items:3,slidesToSlide:3},mobile:{breakpoint:{max:520,min:360},items:2,slidesToSlide:2},smallMobile:{breakpoint:{max:360,min:0},items:1,slidesToSlide:1}},{largeDesktop:{breakpoint:{max:8e3,min:1440},items:6,slidesToSlide:6},desktop:{breakpoint:{max:1440,min:1024},items:6,slidesToSlide:6},tablet:{breakpoint:{max:1024,min:464},items:4,slidesToSlide:4},smallTablet:{breakpoint:{max:650,min:464},items:3,slidesToSlide:3},mobile:{breakpoint:{max:464,min:0},items:2,slidesToSlide:2}}];return Object(a.useEffect)((function(){var e=!0;return e&&(ee("author","hajime isayama").then((function(e){j(V(e))})).catch((function(e){console.log(e.message)})),Q().then((function(e){O(V(e))})).catch((function(e){console.log(e.message)}))),function(){return e=!1}}),[u.length]),Object(c.jsxs)("div",{className:"home-page__container",children:[(t||r)&&Object(c.jsx)("div",{onClick:function(){r?s():n(!1)},className:"blur-background"}),Object(c.jsx)("div",{className:"home-page__content",children:Object(c.jsx)(Ee,{})}),Object(c.jsx)("div",{className:"home-page__content center",children:Object(c.jsxs)("div",{className:"main-middle",children:[Object(c.jsxs)("div",{className:"home-page__content--row",children:[Object(c.jsx)("div",{className:"content-left",children:Object(c.jsx)(_e,{class:"carousel__container",header:"BEST OF HAJIME ISAYAMA",showButton:!0,url:"/searchResult/hajime isayama",children:Object(c.jsx)(Ae,{responsive:p[0],books:u})})}),Object(c.jsx)("div",{className:"content-right",children:Object(c.jsx)(_e,{header:"POPULAR MANGA",class:"box2",url:"/",children:Object(c.jsx)(De,{})})})]}),Object(c.jsxs)("div",{className:"home-page__content--row",children:[Object(c.jsx)("div",{className:"content-left",children:Object(c.jsx)(_e,{class:"box3",header:"MANGA",showButton:!0,url:"/",children:Object(c.jsx)(Ie,{})})}),Object(c.jsx)("div",{className:"content-right",children:Object(c.jsx)(_e,{class:"box4",background:Le,header:"MANAGE YOUR ACCOUNT",url:"/myAccount",showButton:!0,button:"MY ACCOUNT"})})]})]})}),Object(c.jsx)("div",{className:"on-sale__container",children:Object(c.jsx)(_e,{class:"carousel__container on-sale center",header:"ON SALE",url:"/",children:Object(c.jsx)(Ae,{responsive:p[1],books:h})})}),Object(c.jsx)(ie,{})]})},Pe="".concat("https://assaf-harush-manga-server.herokuapp.com","/users/signup"),Be="".concat("https://assaf-harush-manga-server.herokuapp.com","/users/login"),Fe="".concat("https://assaf-harush-manga-server.herokuapp.com","/users"),Ue=function(){var e=Object($.a)(Y.a.mark((function e(t){var n,c,a,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,c=t.email,a=t.password,e.prev=1,e.next=4,K.a.post(Pe,{name:n,email:c,password:a});case 4:return s=e.sent,e.abrupt("return",{token:s.data.token,user:{name:s.data.user.name,email:s.data.user.email}});case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.message.includes(400)){e.next=12;break}throw new Error("Email exist");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object($.a)(Y.a.mark((function e(t){var n,c,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,c=t.password,e.prev=1,e.next=4,K.a.post(Be,{email:n,password:c});case 4:return a=e.sent,e.abrupt("return",{token:a.data.token,user:{name:a.data.user.name,email:a.data.user.email},isAdmin:a.data.user.isAdmin});case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.message.includes(400)){e.next=12;break}throw new Error("Email or Password are invalid!");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(Fe,"/logoutAll/"),{},{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.delete("".concat(Fe,"/me"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.patch("".concat(Fe,"/me"),{update:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",{token:c.data.token,user:{name:c.data.user.name,email:c.data.user.email},isAdmin:c.data.user.isAdmin});case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object($.a)(Y.a.mark((function e(t,n,c,a){var s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.patch("".concat(Fe,"/me/changePassword"),{password:t,newPassword:n,repeatedNewPassword:c},{headers:{Authorization:"Bearer ".concat(a)}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c,a){return e.apply(this,arguments)}}(),Ye=function(e){var t=Object(o.g)(),n=Object(a.useContext)(m).dispatchUserData,s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],u=r[1],j=Object(a.useState)(""),d=Object(l.a)(j,2),h=d[0],O=d[1],p=Object(a.useState)(!0),x=Object(l.a)(p,2),v=x[0],g=x[1],N=Object(a.useState)(!0),k=Object(l.a)(N,2),w=k[0],y=k[1],A=Object(a.useState)(""),C=Object(l.a)(A,2),S=C[0],E=C[1];Object(a.useEffect)((function(){var t=!0;return t&&""!==e.errorMessage&&E(e.errorMessage),function(){return t=!1}}),[e.errorMessage]);return Object(c.jsxs)("div",{className:"login-form",children:[Object(c.jsx)("h3",{children:"LOG IN"}),""!==S&&Object(c.jsx)("div",{className:"error-message",children:S}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Ge({email:i,password:h}).then((function(e){n(f(e)),b(e),t.push("/myAccount")})).catch((function(e){"Email or Password are invalid!"===e.message&&E(e.message)}))},children:[Object(c.jsx)("label",{htmlFor:"email",children:"Enter your email"}),Object(c.jsx)("input",{className:v?"":"input-invalid",placeholder:"Email",id:"email",onInput:function(e){var t=e.target.value.trim();t.length>0?(u(t),g(!0)):(u(""),g(!1))}}),!v&&Object(c.jsx)("div",{className:"invalid-message",children:"You must enter your email!"}),Object(c.jsx)("label",{htmlFor:"password",children:"Enter your password"}),Object(c.jsx)("input",{className:w?"":"input-invalid",placeholder:"Password",id:"password",type:"password",onInput:function(e){var t=e.target.value;t.length>0?(O(t),y(!0)):(O(""),y(!1))}}),!w&&Object(c.jsx)("div",{className:"invalid-message",children:"You must enter your password!"}),Object(c.jsx)("button",{type:"submit",disabled:0===i.length||0===h.length,children:"LOG IN"}),Object(c.jsxs)("div",{className:"login-signup",children:["Not a member yet?"," ",Object(c.jsx)("span",{onClick:function(){return e.setIsLoginMode(!1)},children:"SIGN UP"})]})]})]})},$e=n(111),Je=n.n($e),Ke=function(e){var t=Object(a.useContext)(m).dispatchUserData,n=Object(o.g)(),s=Object(a.useState)(["","","",""]),r=Object(l.a)(s,2),i=r[0],u=r[1],j=Object(a.useState)(["","","",""]),d=Object(l.a)(j,2),h=d[0],O=d[1],p=Object(a.useState)([!1,!1,!1,!1]),x=Object(l.a)(p,2),v=x[0],g=x[1],N=Object(a.useState)(""),k=Object(l.a)(N,2),w=k[0],y=k[1],A=Object(a.useState)(""),C=Object(l.a)(A,2),S=C[0],E=C[1],_=Object(a.useState)(""),I=Object(l.a)(_,2),L=I[0],T=I[1],M=Object(a.useState)(""),D=Object(l.a)(M,2),R=D[0],P=D[1],B=function(e,t,n,c){var a=function(e,n,c){var a=Object(G.a)(h),s=Object(G.a)(i),r=Object(G.a)(v);a[t]=e,O(a),s[t]=n,u(s),r[t]=c,g(r)};e.length>0?(a("","",!0),n(e)):a(c,"input-invalid",!1)};return Object(c.jsxs)("div",{className:"login-form",children:[Object(c.jsx)("h3",{children:"SIGN UP"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Je.a.isEmail(S),t=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(L),n=L===R;return u(["",e?"":"input-invalid",t?"":"input-invalid",n?"":"input-invalid"]),O(["",e?"":"Email invalid",t?"":"Password must contain capital character, regular character, a number and must have at least 8 characters",n?"":"The two passwords must be identical"]),g([!0,e,t,n]),e&&t&&n}()&&Ue({name:w,email:S,password:L}).then((function(e){t(f(e)),b(e),n.push("/myAccount")})).catch((function(e){"Email exist"===e.message&&(u(["","input-invalid","",""]),O(["","Email is already in use!","",""]),g([!0,!1,!0,!0]))}))},children:[Object(c.jsx)("label",{htmlFor:"name",children:"Enter your name"}),Object(c.jsx)("input",{id:"name",placeholder:"Name",className:i[0],onChange:function(e){var t=e.target.value.trim();B(t,0,y,"Please enter your name")}}),""!==h[0]&&Object(c.jsx)("div",{className:"invalid-message",children:h[0]}),Object(c.jsx)("label",{htmlFor:"email",children:"Enter your email"}),Object(c.jsx)("input",{id:"email",placeholder:"Email",className:i[1],onChange:function(e){var t=e.target.value.trim();B(t,1,E,"Please enter your email")}}),""!==h[1]&&Object(c.jsx)("div",{className:"invalid-message",children:h[1]}),Object(c.jsx)("label",{htmlFor:"password",children:"Create a password"}),Object(c.jsx)("input",{id:"password",type:"password",placeholder:"Password",className:i[2],onChange:function(e){var t=e.target.value;B(t,2,T,"Please enter a password")}}),""!==h[2]&&Object(c.jsx)("div",{className:"invalid-message",children:h[2]}),Object(c.jsx)("label",{htmlFor:"repeat-password",children:"Repeat your password"}),Object(c.jsx)("input",{id:"repeat-password",type:"password",placeholder:"Repeat password",className:i[3],onChange:function(e){var t=e.target.value;B(t,3,P,"Please repeat your password")}}),""!==h[3]&&Object(c.jsx)("div",{className:"invalid-message",children:h[3]}),Object(c.jsx)("button",{type:"submit",disabled:v.includes(!1),children:"SIGN UP"})]}),Object(c.jsxs)("div",{className:"login-signup",onClick:function(){return e.setIsLoginMode(!0)},children:["Already a member? ",Object(c.jsx)("span",{children:"LOG IN"})]})]})},qe=function(e){var t,n,s=Object(a.useState)(!(null===(t=e.location.state)||void 0===t?void 0:t.signUp)),r=Object(l.a)(s,2),i=r[0],o=r[1],u=(null===(n=e.location.state)||void 0===n?void 0:n.needToLogin)?"You must login!":"";return Object(c.jsx)("div",{className:"main__container",children:Object(c.jsx)("div",{className:"login-form__container",children:i?Object(c.jsx)(Ye,{setIsLoginMode:o,errorMessage:u}):Object(c.jsx)(Ke,{setIsLoginMode:o})})})},Qe=function(){return Object(c.jsx)("div",{className:"main__container",children:Object(c.jsx)("div",{className:"page-not-found__container",children:"404: Page Not Found"})})},Ze=n(69),Xe=function(e){var t=e.component,n=Object(Ze.a)(e,["component"]),s=Object(a.useContext)(m).userData;return Object(c.jsx)(o.b,Object(O.a)(Object(O.a)({},n),{},{component:function(e){return s.user?Object(c.jsx)(t,Object(O.a)({},e)):Object(c.jsx)(o.a,{to:{pathname:"login",state:{needToLogin:!0}}})}}))},et=n(30),tt=function(e){var t,n,a=e.book,s=e.userData,r=e.setWishList;return Object(c.jsxs)("div",{className:"cart-item__container",children:[Object(c.jsxs)("div",{className:"left",children:[Object(c.jsx)("div",{className:"section1",children:Object(c.jsx)(i.b,{to:"/book/".concat(a._id),children:Object(c.jsx)("img",{src:a.image,alt:a.title})})}),Object(c.jsxs)("div",{className:"section2",children:[Object(c.jsx)("h2",{children:a.title}),Object(c.jsx)("h3",{children:a.author}),Object(c.jsxs)("h4",{children:[a.category," | ",a.details.language]}),Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsxs)("h5",{style:a.discountInPercentage&&{textDecoration:"line-through",fontWeight:"300"},children:[a.price," $"]}),a.discountInPercentage&&Object(c.jsxs)("span",{children:[" -",a.discountInPercentage,"%"]})]}),a.discountInPercentage&&Object(c.jsxs)("h5",{children:[(t=a.price,n=a.discountInPercentage,t-t*n/100)," ","$"]})]})]}),Object(c.jsxs)("div",{className:"right",children:[Object(c.jsx)("div",{className:"section3",children:Object(c.jsxs)("button",{className:"move-to-cart-button",onClick:function(){be(a._id,s.token).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))},children:[Object(c.jsx)("p",{children:" MOVE TO CART "}),Object(c.jsxs)("span",{children:[" ",w.cart]})]})}),Object(c.jsx)("div",{className:"section5",children:Object(c.jsx)("i",{onClick:function(){de(a._id,s.token).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))},children:w.delete})})]})]})},nt=function(){var e=Object(a.useContext)(m).userData,t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],r=n[1];Object(a.useEffect)((function(){var t=!0;return t&&Oe(e.token).then((function(e){r(e)})).catch((function(e){console.log(e)})),function(){return t=!1}}),[e.token]);return Object(c.jsx)("div",{className:"cart-page__container center",children:Object(c.jsxs)("div",{className:"cart-page__content",children:[Object(c.jsxs)("div",{className:"cart__content",children:[Object(c.jsx)("h1",{children:"Wish List"}),0===s.length?Object(c.jsx)("h2",{className:"empty",children:"WISH LIST IS EMPTY!"}):s.map((function(t){return Object(c.jsx)(tt,{book:t,userData:e,setWishList:r},t._id)}))]}),Object(c.jsxs)("div",{className:"checkout__content",children:[Object(c.jsx)("h2",{children:"Controls"}),Object(c.jsxs)("button",{onClick:function(){var t,n=[],c=Object(et.a)(s);try{for(c.s();!(t=c.n()).done;){var a=t.value;n.unshift(a._id)}}catch(i){c.e(i)}finally{c.f()}he(n,e.token).then((function(){return r([])})).catch((function(e){return console.log(e)}))},disabled:0===s.length,children:[Object(c.jsx)("p",{children:" MOVE ALL TO CART"})," ",Object(c.jsx)("span",{children:w.cart})]}),Object(c.jsxs)("button",{onClick:function(){pe(e.token).then((function(e){r(e)})).catch((function(e){console.log(e)}))},disabled:0===s.length,children:[Object(c.jsx)("p",{children:" EMPTY WISH LIST "}),Object(c.jsx)("span",{children:w.delete})]})]})]})})},ct="".concat("https://assaf-harush-manga-server.herokuapp.com","/general"),at=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(ct,"/orderNumber"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data.orderNumber);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post("".concat(ct,"/admins"),{newAdmin:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object($.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(ct,"/admins/list"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.patch("".concat(ct,"/admins"),{adminToRemove:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=Object(a.useContext)(m).userData,t=Object(a.useContext)(F),n=t.isModalActive,s=t.modalMessage,r=t.toggleModal;return Object(c.jsxs)("div",{className:"add-admin__container",children:[n&&Object(c.jsx)(ye,{message:s,closeButton:"CLOSE"}),Object(c.jsx)("h1",{children:"Add Admin"}),Object(c.jsxs)("form",{onSubmit:function(t){return function(t,n){t.preventDefault();var c=t.target[0].value.trim().toLowerCase();e.isAdmin&&st(c,n).then((function(e){r(e.toString())})).catch((function(e){r(e.toString())}))}(t,e.token)},children:[Object(c.jsx)("label",{htmlFor:"adminEmail",children:"ADMIN EMAIL"}),Object(c.jsx)("input",{type:"text",id:"adminEmail",placeholder:"Enter new admin email"}),Object(c.jsx)("button",{type:"submit",children:"ADD ADMIN"})]})]})},lt=function(e){var t=e.bookToEdit,n=Object(a.useContext)(m).userData,s=Object(a.useContext)(F),r=s.isModalActive,i=s.modalMessage,o=s.toggleModal,u=s.setIsEditBook,j=Object(a.useState)("checkbox"),d=Object(l.a)(j,2),b=d[0],h=d[1],O=Object(a.useState)(!0),p=Object(l.a)(O,2),x=p[0],v=p[1],f=Object(a.createRef)();Object(a.useEffect)((function(){var e=!0;return e&&t&&t.discountInPercentage&&(h("checkbox active"),v(!1)),function(){return e=!1}}),[t]);return Object(c.jsxs)("div",{className:"add-book__container center",children:[r&&Object(c.jsx)(ye,{message:i,closeButton:"CLOSE",children:Object(c.jsx)("button",{onClick:function(){!function(e){var t,n=Object(et.a)(e.current);try{for(n.s();!(t=n.n()).done;)t.value.value=""}catch(c){n.e(c)}finally{n.f()}}(f),o()},children:"CLEAR FORM"})}),Object(c.jsx)("h1",{children:t?"Edit book":"Add book"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=f.current,a={image:c.image.value,title:c.title.value,author:c.author.value,price:c.price.value,discountInPercentage:c.discountInPercentage.value,category:c.genre.value,details:{year:c.year.value,isbn:c.isbn.value,pages:c.pages.value,publisher:c.publisher.value,bestSellersRank:c.bestSellersRank.value,language:c.language.value,description:c.description.value}};c.discountInPercentage.disabled&&(a.discountInPercentage=null),t&&n.isAdmin?ce(t._id,a,n.token).then((function(e){o("Book edited successfully")})).catch((function(e){o(e.toString())})):ne(a,n.token).then((function(){o("Book added successfully")})).catch((function(e){o(e.toString())}))},ref:f,className:"add-book__form",children:[Object(c.jsxs)("div",{className:"part1",children:[Object(c.jsx)("label",{htmlFor:"title",children:"TITLE"}),Object(c.jsx)("input",{type:"text",id:"title",defaultValue:t?t.title:""}),Object(c.jsx)("label",{htmlFor:"author",children:"AUTHOR"}),Object(c.jsx)("input",{type:"text",id:"author",defaultValue:t?t.author:""}),Object(c.jsx)("label",{htmlFor:"genre",children:"GENRE"}),Object(c.jsxs)("select",{id:"genre",defaultValue:t?t.category:"",children:[Object(c.jsx)("option",{value:"Action",children:"Action"}),Object(c.jsx)("option",{value:"Adventure",children:"Adventure"}),Object(c.jsx)("option",{value:"Fantasy",children:"Fantasy"}),Object(c.jsx)("option",{value:"Comedy",children:"Comedy"}),Object(c.jsx)("option",{value:"Drama",children:"Drama"}),Object(c.jsx)("option",{value:"Romance",children:"Romance"}),Object(c.jsx)("option",{value:"Horror",children:"Horror"})]}),Object(c.jsx)("label",{htmlFor:"price",children:"PRICE"}),Object(c.jsx)("input",{type:"number",id:"price",min:"1",defaultValue:t?t.price:""}),Object(c.jsxs)("div",{className:"discount",children:[Object(c.jsx)("div",{onClick:function(){"checkbox"===b?(h("checkbox active"),v(!1)):(h("checkbox"),v(!0))},className:b}),Object(c.jsx)("label",{htmlFor:"discount",children:"DISCOUNT"})]}),Object(c.jsx)("label",{htmlFor:"discountInPercentage",children:"DISCOUNT IN PERCENTAGE"}),Object(c.jsx)("input",{disabled:x,type:"number",id:"discountInPercentage",min:"1",defaultValue:t?t.discountInPercentage:""})]}),Object(c.jsxs)("div",{className:"part2",children:[Object(c.jsx)("label",{htmlFor:"year",children:"YEAR"}),Object(c.jsx)("input",{type:"number",id:"year",min:"1",defaultValue:t?t.details.year:""}),Object(c.jsx)("label",{htmlFor:"isbn",children:"ISBN"}),Object(c.jsx)("input",{type:"text",id:"isbn",defaultValue:t?t.details.isbn:""}),Object(c.jsx)("label",{htmlFor:"pages",children:"NUMBER OF PAGES"}),Object(c.jsx)("input",{type:"number",id:"pages",min:"1",defaultValue:t?t.details.pages:""}),Object(c.jsx)("label",{htmlFor:"publisher",children:"PUBLISHER"}),Object(c.jsx)("input",{type:"text",id:"publisher",defaultValue:t?t.details.publisher:""}),Object(c.jsx)("label",{htmlFor:"bestSellersRank",children:"BEST SELLERS RANK"}),Object(c.jsx)("input",{type:"text",id:"bestSellersRank",defaultValue:t?t.details.bestSellersRank:""}),Object(c.jsx)("label",{htmlFor:"language",children:"LANGUAGE"}),Object(c.jsx)("input",{type:"text",id:"language",defaultValue:t?t.details.language:""})]}),Object(c.jsxs)("div",{className:"part3",children:[Object(c.jsx)("label",{htmlFor:"image",children:"IMAGE URL"}),Object(c.jsx)("input",{type:"text",id:"image",defaultValue:t?t.image:""}),Object(c.jsx)("label",{htmlFor:"description",children:"DESCRIPTION"}),Object(c.jsx)("textarea",{id:"description",defaultValue:t?t.details.description:""}),Object(c.jsxs)("div",{className:"buttons-container",children:[Object(c.jsx)("button",{type:"submit",children:t?"EDIT BOOK":"ADD BOOK"}),t&&Object(c.jsx)("button",{onClick:function(){return u(!1)},children:"CENCEL"})]})]})]})]})},ut=function(){var e=Object(a.useContext)(m).userData,t=Object(a.useContext)(F),n=t.isModalActive,s=t.modalMessage,r=t.toggleModal,i=Object(a.useState)([]),o=Object(l.a)(i,2),u=o[0],j=o[1];return Object(a.useEffect)((function(){var t=!0;return t&&rt(e.token).then((function(e){j(e)})).catch((function(e){console.log(e)})),function(){return t=!1}}),[e.token,u]),Object(c.jsxs)("div",{className:"admins-list__container",children:[n&&Object(c.jsx)(ye,{message:s,closeButton:"CLOSE"}),Object(c.jsx)("h1",{children:"Admins List"}),u.map((function(t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:t}),Object(c.jsx)("span",{onClick:function(){return n=t,c=e.token,void(e.isAdmin&&it(n,c).then((function(e){r(e.toString())})).catch((function(e){r(e.toString())})));var n,c},children:w.delete})]},t)}))]})},jt=n.p+"static/media/SevenDeadlySins.e4338d5e.jpg",dt=function(e){var t=e.setActiveComponent,n=Object(a.useContext)(m),s=n.userData,r=n.dispatchUserData,i=Object(a.useContext)(F).toggleModal,l=Object(o.g)();return Object(c.jsxs)("div",{className:"greeting",style:{backgroundImage:"url(".concat(jt,")")},children:[Object(c.jsx)("h1",{children:"WELCOME TO YOUR ACCOUNT"}),s.isAdmin&&Object(c.jsxs)("div",{className:"admin-options",children:[Object(c.jsx)("h2",{children:"Admin Control"}),Object(c.jsx)("button",{onClick:function(){return t(Object(c.jsx)(lt,{}))},children:"ADD BOOK"}),Object(c.jsx)("button",{onClick:function(){return t(Object(c.jsx)(ut,{}))},children:"MANAGE ADMINS LIST"}),Object(c.jsx)("button",{onClick:function(){return t(Object(c.jsx)(ot,{}))},children:"ADD ADMIN USER"})]}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)("button",{onClick:function(){We(s.token).then((function(){r({type:"LOG-OUT"}),h(),l.push("/home")})).catch((function(e){return console.log(e)}))},children:"LOGOUT ALL DEVICES"}),Object(c.jsx)("button",{onClick:function(){return i("Are you sure you want to delete your account?")},className:"delete-button",children:"DELETE ACCOUNT"})]})]})},bt=function(){var e=Object(a.useContext)(m),t=e.userData,n=e.dispatchUserData,s=Object(a.useContext)(F),r=s.toggleModal,i=s.setIsChangeDetails,o=Object(a.createRef)(),l=Object(a.createRef)();return Object(c.jsxs)("div",{className:"my-details box",children:[Object(c.jsx)("div",{className:"icon",children:w.user}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("h2",{children:"My Details"}),Object(c.jsxs)("div",{className:"forms",children:[Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={name:o.current[0].value.trim()+" "+o.current[1].value.trim(),email:o.current[2].value.trim().toLowerCase()};Ve(c,t.token).then((function(e){n(f(e)),b(e),i(!0),r("Details updated succsessfully")})).catch((function(e){return r(e.message.toString())}))},ref:o,className:"details-form",children:[Object(c.jsx)("label",{htmlFor:"first-name",children:"FIRST NAME"}),Object(c.jsx)("input",{type:"text",id:"first-name",defaultValue:t.user.name.split(" ")[0]}),Object(c.jsx)("label",{htmlFor:"last-name",children:"LAST NAME"}),Object(c.jsx)("input",{type:"text",id:"last-name",defaultValue:t.user.name.split(" ")[1]}),Object(c.jsx)("label",{htmlFor:"email-adress",children:"EMAIL ADRESS"}),Object(c.jsx)("input",{type:"text",id:"email-adress",defaultValue:t.user.email}),Object(c.jsx)("button",{type:"submit",children:"SAVE CHANGES"})]}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=l.current[0].value,c=l.current[1].value,a=l.current[2].value;ze(n,c,a,t.token).then((function(){!function(e){var t,n=Object(et.a)(e.current);try{for(n.s();!(t=n.n()).done;)t.value.value=""}catch(c){n.e(c)}finally{n.f()}}(l),i(!0),r("Password Changed succsessfully")})).catch((function(e){i(!0),r(e.message.toString())}))},ref:l,className:"password-form",children:[Object(c.jsx)("label",{htmlFor:"password",children:"PASSOWRD"}),Object(c.jsx)("input",{type:"password",id:"password"}),Object(c.jsx)("label",{htmlFor:"new-password",children:"NEW PASSWORD"}),Object(c.jsx)("input",{type:"password",id:"new-password"}),Object(c.jsx)("label",{htmlFor:"repeat-password",children:"REPEAT PASSOWRD"}),Object(c.jsx)("input",{type:"password",name:"",id:"repeat-password"}),Object(c.jsx)("button",{type:"submit",children:"CHANGE PASSWORD"})]})]})]})]})},ht=function(e){var t=e.order,n=e.formatDate,s=e.setIsViewOrder,r=Object(a.useContext)(F).toggleModal,i=t.info.billingInfo,o=t.info.cardInfo,l=t.cart;return Object(c.jsx)("div",{className:"admin__modal",children:Object(c.jsxs)("div",{className:"view-order__modal",children:[Object(c.jsxs)("h1",{children:["View Order: #",t.orderNumber]}),Object(c.jsxs)("h2",{children:["Ordered at: ",n(t.date)]}),Object(c.jsxs)("div",{className:"user-details",children:[Object(c.jsxs)("p",{children:["To: ",i.fullName]}),Object(c.jsxs)("p",{children:["Adress: ",i.adress,", ",i.city," ",i.zipCode," ",i.country]}),Object(c.jsxs)("p",{children:["Phone number: ",i.phoneNumber]})]}),Object(c.jsxs)("div",{className:"payment-details",children:[Object(c.jsxs)("p",{children:["Card holder name: ",o.cardHolderName]}),Object(c.jsxs)("p",{children:["Card number: ",function(e){for(var t="",n=0;n<e.length-4;n++)t+=e[n].replace(e[n],"*");for(var c=e.length-4;c<e.length;c++)t+=e[c];return t}(o.cardNumber)]}),Object(c.jsxs)("p",{children:["Expiration date: ",o.expirationDate]})]}),Object(c.jsxs)("div",{className:"cart-details",children:[Object(c.jsx)("h2",{children:"Cart:"}),l.map((function(e){return Object(c.jsx)("div",{className:"cart-item",children:Object(c.jsxs)("p",{children:[e.title," by ",e.author," -"," ",e.price,"$ X ",e.quantity]})},e.title)})),Object(c.jsxs)("p",{children:["Total: ",t.total,"$"]})]}),Object(c.jsx)("button",{onClick:function(){s(!1),r()},children:"CLOSE"})]})})},Ot=function(e){var t=e.order,n=Object(a.useContext)(F),s=n.toggleModal,r=n.isModalActive,i=Object(a.useState)(!1),o=Object(l.a)(i,2),u=o[0],j=o[1],d=function(e){var t=e.split(" ");switch(t[1]){case"Jan":t[1]="01";break;case"Feb":t[1]="02";break;case"Mar":t[1]="03";break;case"Apr":t[1]="04";break;case"May":t[1]="05";break;case"Jun":t[1]="06";break;case"Jul":t[1]="07";break;case"Aug":t[1]="08";break;case"Sep":t[1]="09";break;case"Oct":t[1]="10";break;case"Nov":t[1]="11";break;case"Dec":t[1]="12";break;default:return}return"".concat(t[2],"/").concat(t[1],"/").concat(t[3])};return Object(c.jsxs)("div",{className:"order-item",children:[u&&r&&Object(c.jsx)(ht,{order:t,formatDate:d,setIsViewOrder:j}),Object(c.jsxs)("div",{className:"details",children:[Object(c.jsxs)("div",{className:"part1",children:[Object(c.jsx)("h3",{children:"We've sent it!"}),Object(c.jsxs)("p",{children:["Order date: ",d(t.date)]})]}),Object(c.jsxs)("div",{className:"part2",children:[Object(c.jsx)("h4",{children:"Order number:"}),Object(c.jsxs)("p",{children:["#",t.orderNumber]})]})]}),Object(c.jsx)("div",{className:"image-container",children:function(e){for(var t=[],n=0;n<4&&e[n];n++)t.push(Object(c.jsx)("img",{src:e[n].image,alt:e[n].title},e[n]._id));return t}(t.cart)}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)("button",{onClick:function(){j(!0),s()},children:"VIEW ORDER"}),Object(c.jsx)("button",{className:"track-button",children:"TRACK ORDER"})]})]})},pt=function(){var e=Object(a.useContext)(m).userData,t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){var t=!0;return t&&Ne(e.token).then((function(e){r(e)})).catch((function(e){console.log(e)})),function(){return t=!1}}),[e.token]),Object(c.jsxs)("div",{className:"my-orders box",children:[Object(c.jsx)("div",{className:"icon",children:w.cart}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("h2",{children:"My Orders"}),0===s.length?Object(c.jsx)("h5",{children:"No orders yet.."}):s.map((function(e){return Object(c.jsx)(Ot,{order:e.purchased},e.purchased.orderNumber)}))]})]})},xt=function(){return Object(c.jsxs)("div",{className:"adress-book box",children:[Object(c.jsx)("div",{className:"icon",children:w.home}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)("h2",{children:"Adress Book"})})]})},mt=function(e){var t=e.setActiveComponent,n=e.isDesktopMode,s=Object(a.useContext)(m).userData,r=Object(a.useState)(["menu-active","","",""]),i=Object(l.a)(r,2),o=i[0],u=i[1],j=function(e){switch(e){case"greeting":t(Object(c.jsx)(dt,{setActiveComponent:t})),u(["menu-active","","",""]);break;case"myDetails":t(Object(c.jsx)(bt,{})),u(["","menu-active","",""]);break;case"myOrders":t(Object(c.jsx)(pt,{})),u(["","","menu-active",""]);break;case"adressBook":t(Object(c.jsx)(xt,{})),u(["","","","menu-active"]);break;default:return}};return Object(c.jsxs)("div",{className:"menu__container",children:[Object(c.jsxs)("div",{onClick:function(){return j("greeting")},className:o[0],children:["Hi ",s.isAdmin&&"Admin",", ",n?Object(c.jsx)("br",{}):""," ",function(e){var t,n=e.split(" "),c=[],a=Object(et.a)(n);try{for(a.s();!(t=a.n()).done;){var s=t.value;c.push(s[0].toUpperCase()+s.slice(1))}}catch(r){a.e(r)}finally{a.f()}return c.join(" ")}(s.user.name)]}),Object(c.jsxs)("div",{onClick:function(){return j("myDetails")},className:o[1],children:[Object(c.jsx)("span",{children:w.user})," My Details"]}),Object(c.jsxs)("div",{onClick:function(){return j("myOrders")},className:o[2],children:[Object(c.jsx)("span",{children:w.cart})," My Orders"]}),Object(c.jsxs)("div",{onClick:function(){return j("adressBook")},className:o[3],children:[Object(c.jsx)("span",{children:w.home})," Adress Book"]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:w.creditCard})," Payment Methods"]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:w.help})," Help"]})]})},vt=n(295),ft=n(297),gt=n(66),Nt=n.n(gt),kt=function(){var e=Object(a.useContext)(m),t=e.userData,n=e.dispatchUserData,s=Object(a.useContext)(F),r=s.isModalActive,i=s.toggleModal,u=s.modalMessage,j=s.isChangeDetails,d=Object(a.useState)(""),b=Object(l.a)(d,2),O=b[0],p=b[1],x=Object(a.useState)(!1),v=Object(l.a)(x,2),f=v[0],g=v[1],N=Object(o.g)(),k=function(){var e=window.innerWidth;g(!(e<=1024))};window.addEventListener("resize",k);return Object(a.useEffect)((function(){k()}),[f]),Object(a.useEffect)((function(){var e=!0;return e&&p(Object(c.jsx)(dt,{setActiveComponent:p})),function(){return e=!1}}),[]),Object(c.jsxs)("div",{className:"main__container",children:[r&&Object(c.jsx)("div",{onClick:i,className:"blur-background"}),r&&Object(c.jsx)(ye,{message:u,closeButton:j?"CLOSE":"NO",children:!j&&Object(c.jsx)("button",{onClick:function(){He(t.token).then((function(){i(),n({type:"LOG-OUT"}),h(),N.push("/home")})).catch((function(e){return console.log(e)}))},children:"YES"})}),Object(c.jsxs)("div",{className:"my-account-page__content center",children:[f?Object(c.jsx)(mt,{setActiveComponent:p,isDesktopMode:f}):Object(c.jsxs)(vt.a,{children:[Object(c.jsx)(ft.a,{expandIcon:Object(c.jsx)(Nt.a,{}),children:Object(c.jsx)("h2",{children:"My Account Menu"})}),Object(c.jsx)(mt,{setActiveComponent:p,isDesktopMode:f})]}),Object(c.jsx)("div",{className:"content__container",children:O})]})]})},wt=function(e){var t=e.component,n=Object(Ze.a)(e,["component"]),s=Object(a.useContext)(m).userData;return Object(c.jsx)(o.b,Object(O.a)(Object(O.a)({},n),{},{component:function(e){return s.user?Object(c.jsx)(o.a,{to:"/home"}):Object(c.jsx)(t,Object(O.a)({},e))}}))},yt=function(e){var t=e.book,n=Object(a.useContext)(m).userData,s=Object(a.useContext)(F),r=s.setIsItemAdded,i=s.setIsAddedToWishList,l=s.setAddedBook,u=s.toggleModal,j=s.setIsEditBook,d=Object(o.g)(),b=function(){n.user?je(t._id,n.token).then((function(){r(!0),i(!0),l(t)})).catch((function(e){i(!0),u(e.message.toString())})):d.push("/myAccount")},h=function(){n.user?xe(t._id,n.token).then((function(){r(!0),l(t)})).catch((function(e){return console.log(e)})):d.push("/myAccount")};return Object(c.jsxs)("div",{className:"book",children:[Object(c.jsx)("div",{className:"imgae__container",children:Object(c.jsx)("img",{src:t.image,alt:t.title})}),Object(c.jsxs)("div",{className:"book__content",children:[Object(c.jsx)("h1",{children:t.title}),Object(c.jsxs)("h2",{children:["by ",t.author]}),Object(c.jsxs)("h6",{children:[t.category," | ",t.details.language," |"," ",t.details.year]}),Object(c.jsxs)("div",{className:"price-cart",children:[Object(c.jsxs)("h3",{children:[t.price," $"]}),Object(c.jsxs)("h4",{children:[w.check," Available"]}),Object(c.jsxs)("h4",{children:[w.truck," Free delivery worldwide"]}),Object(c.jsxs)("div",{className:"buttons__container",children:[Object(c.jsx)("button",{onClick:b,className:"wishlist-button",children:w.wishList}),Object(c.jsxs)("button",{onClick:h,children:[Object(c.jsx)("span",{children:w.cart})," ADD TO CART"]})]})]}),Object(c.jsx)("h4",{children:"Overview"}),Object(c.jsx)("p",{children:t.details.description}),Object(c.jsx)("h4",{children:"Proudct details"}),Object(c.jsxs)("div",{className:"book__details",children:[Object(c.jsxs)("h5",{children:["ISBN-10: ",Object(c.jsx)("span",{children:t.details.isbn})]}),Object(c.jsxs)("h5",{children:["Year: ",Object(c.jsx)("span",{children:t.details.year})]}),Object(c.jsxs)("h5",{children:["Number of pages: ",Object(c.jsx)("span",{children:t.details.pages})]}),Object(c.jsxs)("h5",{children:["Publisher: ",Object(c.jsx)("span",{children:t.details.publisher})]}),Object(c.jsxs)("h5",{children:["Language: ",Object(c.jsx)("span",{children:t.details.language})]}),Object(c.jsxs)("h5",{children:["Best seller rank:"," ",Object(c.jsx)("span",{children:t.details.bestSellersRank})]})]}),Object(c.jsxs)("div",{className:"price-cart--mobile",children:[Object(c.jsxs)("h3",{children:[t.price," $"]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h4",{children:[w.check," Available"]}),Object(c.jsxs)("h4",{children:[w.truck," Free delivery worldwide"]})]}),Object(c.jsxs)("div",{className:"buttons__container",children:[Object(c.jsx)("button",{onClick:b,className:"wishlist-button",children:w.wishList}),Object(c.jsxs)("button",{onClick:h,children:[Object(c.jsx)("span",{children:w.cart})," ADD TO CART"]})]})]}),n.isAdmin&&Object(c.jsxs)("div",{className:"admin-control",children:[Object(c.jsx)("h2",{children:"Admin Control"}),Object(c.jsx)("button",{onClick:function(){j(!0)},children:"EDIT BOOK"}),Object(c.jsx)("button",{onClick:function(){u("Are you sure you want to remove ".concat(t.title,"?"))},children:"REMOVE BOOK"})]})]})]})},At=function(e){var t=e.book;return Object(c.jsx)("div",{className:"edit-book__modal",children:Object(c.jsx)("div",{className:"edit-book__modal-contnet",children:Object(c.jsx)(lt,{bookToEdit:t})})})},Ct=function(e){var t=e.match.params.id,n=Object(a.useContext)(m).userData,s=Object(a.useContext)(F),r=s.isItemAdded,u=s.setIsAddedToWishList,j=s.isModalActive,d=s.toggleModal,b=s.modalMessage,h=s.isEditBook,O=Object(a.useState)({}),p=Object(l.a)(O,2),x=p[0],v=p[1],f=Object(a.useReducer)(H,W),g=Object(l.a)(f,2),N=g[0],k=g[1],y=Object(o.g)();return Object(a.useEffect)((function(){var e=!0;return e&&te(t).then((function(e){v(e),window.scroll(0,0)})).catch((function(e){console.log(e),y.push("/pageNotFound")})),function(){return e=!1}}),[t,y,h]),Object(a.useEffect)((function(){var e=!0;return e&&x.category&&ee("category",x.category).then((function(e){k(V(e))})).catch((function(e){console.log(e)})),!1}),[x.category]),Object(c.jsxs)("div",{children:[(r||j)&&Object(c.jsx)("div",{onClick:function(){j?d():u(!1)},className:"blur-background"}),h&&Object(c.jsx)(At,{book:x}),j&&Object(c.jsx)(ye,{message:b,closeButton:h?"CLOSE":"NO",children:!h&&Object(c.jsx)("button",{onClick:function(){!function(e,t){n.isAdmin&&ae(e,t).then((function(){d(),y.push("/genres/".concat(x.category))})).catch((function(e){console.log(e)}))}(x._id,n.token)},children:"YES"})}),Object(c.jsxs)("div",{className:"book-page__container center",children:[Object(c.jsx)("div",{className:"book-page__contnet",children:x._id&&Object(c.jsx)(yt,{book:x})}),x._id&&Object(c.jsxs)("h3",{className:"carousel__container-header",children:["MORE OF ",x.category.toUpperCase()," MANGA"]}),Object(c.jsxs)("div",{className:"carousel__container",children:[Object(c.jsx)(Ae,{responsive:{largeDesktop:{breakpoint:{max:8e3,min:1440},items:6,slidesToSlide:6},desktop:{breakpoint:{max:1440,min:1024},items:6,slidesToSlide:6},tablet:{breakpoint:{max:1024,min:464},items:4,slidesToSlide:4},smallTablet:{breakpoint:{max:650,min:464},items:3,slidesToSlide:3},mobile:{breakpoint:{max:464,min:0},items:2,slidesToSlide:2}},books:N}),Object(c.jsx)(i.b,{to:"/",children:Object(c.jsxs)("button",{className:"view-more__button",children:["VIEW MORE ",Object(c.jsx)("span",{children:w.rightArrow})]})})]})]})]})},St=n(112),Et=n.n(St),_t=(n(259),function(e){var t=e.dispatchBooksList,n=e.pageBooksList,s=e.priceRange,r=Object(a.useState)({}),i=Object(l.a)(r,2),o=i[0],u=i[1],j=Object(a.useState)(["","All","All","All",{}]),d=Object(l.a)(j,2),b=d[0],h=d[1],O=function(e,t){var a=[];return n.map((function(n){var s=t?n[e][t]:n[e];return a.includes(s)?null:(a.push(s),Object(c.jsx)("option",{children:s},n._id))}))},p=function(e,c){var a=Object(G.a)(b);a[c]=e,h(a),t(function(e,t){return{type:"FILTER",pageBooksList:e,filterArray:t}}(n,a))};return Object(a.useEffect)((function(){var e=!0;return e&&u(s),function(){return e=!1}}),[s]),Object(c.jsxs)("form",{children:[Object(c.jsx)("label",{htmlFor:"title",children:"Title"}),Object(c.jsx)("input",{onInput:function(e){return p(e.target.value,0)},type:"text",id:"title"}),Object(c.jsx)("label",{htmlFor:"author",children:"Author"}),Object(c.jsxs)("select",{onChange:function(e){return p(e.target.value,1)},id:"author",children:[Object(c.jsx)("option",{value:"All",children:"All"}),O("author")]}),Object(c.jsx)("label",{htmlFor:"genre",children:"Genre"}),Object(c.jsxs)("select",{onChange:function(e){return p(e.target.value,2)},id:"genre",children:[Object(c.jsx)("option",{value:"All",children:"All"}),O("category")]}),Object(c.jsx)("label",{htmlFor:"language",children:"Language"}),Object(c.jsxs)("select",{onChange:function(e){return p(e.target.value,3)},id:"language",children:[Object(c.jsx)("option",{value:"All",children:"All"}),O("details","language")]}),Object(c.jsx)("label",{htmlFor:"price-range",children:"Price Range"}),Object.keys(o).length>0&&Object(c.jsx)(Et.a,{maxValue:s.max,minValue:s.min,value:o,onChange:function(e){u(e),p(e,4)},formatLabel:function(e){return"".concat(e,"$")}})]})}),It=function(e){var t=e.dispatchBooksList,n=e.pageBooksList,s=e.priceRange,r=Object(a.useState)(!1),i=Object(l.a)(r,2),o=i[0],u=i[1],j=function(){var e=window.innerWidth;u(!(e<=1024))};return window.addEventListener("resize",j),Object(a.useEffect)((function(){j()}),[o]),Object(c.jsx)("div",{className:"filter__container",children:o?Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Filter Search"}),Object(c.jsx)(_t,{dispatchBooksList:t,pageBooksList:n,priceRange:s})]}):Object(c.jsxs)(vt.a,{children:[Object(c.jsx)(ft.a,{expandIcon:Object(c.jsx)(Nt.a,{}),children:Object(c.jsx)("h2",{children:"Filter Search"})}),Object(c.jsx)(_t,{dispatchBooksList:t,pageBooksList:n,priceRange:s})]})})},Lt=function(e){var t=e.match.params.result,n=Object(a.useContext)(F),s=n.isItemAdded,r=n.toggleModal,i=n.setIsAddedToWishList,o=n.isModalActive,u=n.modalMessage,j=Object(a.useReducer)(H,W),d=Object(l.a)(j,2),b=d[0],h=d[1],O=Object(a.useState)(b),p=Object(l.a)(O,2),x=p[0],m=p[1],v=Object(a.useState)({}),f=Object(l.a)(v,2),g=f[0],N=f[1];return Object(a.useEffect)((function(){var e=!0;e&&function(){var e=Object($.a)(Y.a.mark((function e(){var n,c,a,s,r,i,o,l,u,j;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("title",t);case 2:return n=e.sent,e.next=5,ee("author",t);case 5:c=e.sent,a=n,s=[],r=Object(et.a)(a);try{for(r.s();!(i=r.n()).done;)o=i.value,s.push(o._id)}catch(d){r.e(d)}finally{r.f()}l=Object(et.a)(c);try{for(l.s();!(u=l.n()).done;)j=u.value,s.includes(j._id)||a.push(j)}catch(d){l.e(d)}finally{l.f()}return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){window.scroll(0,0),h(V(e)),m(e),N(function(e){var t=[];return 0===e.length?{min:0,max:1}:(e.forEach((function(e){t.push(e.price)})),{min:Math.min.apply(Math,t),max:Math.max.apply(Math,t)})}(e))})).catch((function(e){console.log(e)}));return function(){return e=!1}}),[t]),Object(c.jsxs)("div",{className:"genres-page__container center",children:[Object(c.jsx)(It,{dispatchBooksList:h,pageBooksList:x,priceRange:g}),Object(c.jsxs)("div",{className:"genres__container",children:[Object(c.jsxs)("h1",{children:["SEARCH RESULT OF ",t.toUpperCase()]}),0===b.length?Object(c.jsx)("h2",{children:"NO RESULTS!"}):Object(c.jsx)("div",{className:"grid__container",children:b.map((function(e){return Object(c.jsx)(ke,{book:e},e._id)}))})]}),(s||o)&&Object(c.jsx)("div",{onClick:function(){o?r():i(!1)},className:"blur-background"}),s&&Object(c.jsx)(we,{}),o&&Object(c.jsx)(ye,{message:u,closeButton:"CLOSE"})]})},Tt=function(e){var t=e.match.params.genre,n=Object(a.useContext)(F),s=n.isItemAdded,r=n.setIsAddedToWishList,i=n.toggleModal,o=n.isModalActive,u=n.modalMessage,j=Object(a.useReducer)(H,W),d=Object(l.a)(j,2),b=d[0],h=d[1],O=Object(a.useState)(b),p=Object(l.a)(O,2),x=p[0],m=p[1],v=Object(a.useState)({}),f=Object(l.a)(v,2),g=f[0],N=f[1];return Object(a.useEffect)((function(){var e=!0;return e&&(window.scroll(0,0),ee("category",t).then((function(e){h(V(e)),m(e),N(function(e){var t=[];return e.forEach((function(e){t.push(e.price)})),{min:Math.min.apply(Math,t),max:Math.max.apply(Math,t)}}(e))})).catch((function(e){"Cannot find any books"===e.message&&(h(V(W)),m(W),N({min:0,max:1}))}))),function(){return e=!1}}),[t]),Object(c.jsxs)("div",{className:"genres-page__container center",children:[Object(c.jsx)(It,{dispatchBooksList:h,pageBooksList:x,priceRange:g}),Object(c.jsxs)("div",{className:"genres__container",children:[Object(c.jsxs)("h1",{children:[t.toUpperCase()," MANGA"]}),0===b.length?Object(c.jsx)("h2",{children:"NO RESULTS!"}):Object(c.jsx)("div",{className:"grid__container",children:b.map((function(e){return Object(c.jsx)(ke,{book:e},e._id)}))})]}),(s||o)&&Object(c.jsx)("div",{onClick:function(){o?i():r(!1)},className:"blur-background"}),s&&Object(c.jsx)(we,{}),o&&Object(c.jsx)(ye,{message:u,closeButton:"CLOSE"})]})},Mt=function(e){var t=e.book,n=e.userData,s=e.setCart,r=e.setBooksQuantity,o=e.setSubtotal,u=function(e,t){return Math.floor(e-e*t/100)},j=Object(a.useState)(t.quantity),d=Object(l.a)(j,2),b=d[0],h=d[1],O=function(e){ve(t._id,e,n.token).then((function(e){var t=r(e),n=t.cart,c=t.subtotalCount,a=t.subtotalPrice;s(n),o([c,a])})).catch((function(e){console.log(e)}))};return Object(c.jsxs)("div",{className:"cart-item__container",children:[Object(c.jsxs)("div",{className:"left",children:[Object(c.jsx)("div",{className:"section1",children:Object(c.jsx)(i.b,{to:"/book/".concat(t._id),children:Object(c.jsx)("img",{src:t.image,alt:t.title})})}),Object(c.jsxs)("div",{className:"section2",children:[Object(c.jsx)("h2",{children:t.title}),Object(c.jsx)("h3",{children:t.author}),Object(c.jsxs)("h4",{children:[t.category," | ",t.details.language]}),Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsxs)("h5",{style:t.discountInPercentage&&{textDecoration:"line-through",fontWeight:"300"},children:[t.price," $"]}),t.discountInPercentage&&Object(c.jsxs)("span",{children:[" -",t.discountInPercentage,"%"]})]}),t.discountInPercentage&&Object(c.jsxs)("h5",{children:[u(t.price,t.discountInPercentage)," ","$"]})]})]}),Object(c.jsxs)("div",{className:"right",children:[Object(c.jsxs)("div",{className:"section3",children:[Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O(b)},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),Object(c.jsx)("input",{onChange:function(e){return h(e.target.value)},type:"number",min:"1",max:"99",value:b})]}),Object(c.jsx)("button",{type:"submit",children:"Update"})]}),Object(c.jsxs)("h4",{children:[Object(c.jsxs)("span",{children:[w.check," ","  "]}),"Available"]}),Object(c.jsxs)("h4",{children:[Object(c.jsx)("span",{children:w.truck}),"Free delivery"]})]}),Object(c.jsx)("div",{className:"section4",children:Object(c.jsxs)("span",{children:[t.discountInPercentage?u(t.price,t.discountInPercentage)*t.quantity:t.price*t.quantity," ","$"]})}),Object(c.jsx)("div",{className:"section5",children:Object(c.jsx)("i",{onClick:function(e){e.preventDefault(),O(0)},children:w.delete})})]})]})},Dt=function(){var e=Object(a.useContext)(m).userData,t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)([0,0]),u=Object(l.a)(i,2),j=u[0],d=u[1],b=Object(o.g)(),h=function(e){var t=[],n=0,c=0;return e.forEach((function(e){var a=!1;for(var s in t)if(t[s]._id===e._id){t[s].quantity++,n++,c+=e.price,a=!0;break}a||(e.quantity=1,n++,c+=e.price,t.push(e))})),{cart:t,subtotalCount:n,subtotalPrice:c}};return Object(a.useEffect)((function(){var t=!0;return t&&me(e.token).then((function(e){var t=h(e),n=t.cart,c=t.subtotalCount,a=t.subtotalPrice;r(n),d([c,a])})).catch((function(e){console.log(e)})),function(){return t=!1}}),[e.token]),Object(c.jsx)("div",{className:"cart-page__container center",children:Object(c.jsxs)("div",{className:"cart-page__content",children:[Object(c.jsxs)("div",{className:"cart__content",children:[Object(c.jsx)("h1",{children:"Shopping Cart"}),0===s.length?Object(c.jsx)("h2",{className:"empty",children:"CART IS EMPTY!"}):s.map((function(t){return Object(c.jsx)(Mt,{book:t,userData:e,setCart:r,setBooksQuantity:h,subtotal:j,setSubtotal:d},t._id)}))]}),Object(c.jsxs)("div",{className:"checkout__content",children:[Object(c.jsx)("h2",{children:"Summary"}),Object(c.jsxs)("div",{className:"checkout__box",children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("h3",{children:["Subtotal (",j[0]," items)"]}),Object(c.jsxs)("h3",{children:[j[1]," $"]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Shipping"}),Object(c.jsx)("h3",{children:"0 $"})]}),Object(c.jsx)("div",{className:"line"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"Total"}),Object(c.jsxs)("h4",{children:[j[1]," $"]})]})]}),Object(c.jsxs)("button",{onClick:function(){b.push({pathname:"/payment",state:{total:j[1],cart:s}})},disabled:0===s.length,children:[Object(c.jsx)("p",{children:" CHECKOUT"})," ",Object(c.jsx)("span",{children:w.rightArrow})]})]})]})})},Rt=function(e){var t=e.orderNumber,n=Object(a.useContext)(m).userData,s=n.user.name.split(" ")[0].toUpperCase();return Object(c.jsx)("div",{className:"purchased-modal",children:Object(c.jsxs)("div",{className:"purchased-modal__content",children:[Object(c.jsx)("div",{className:"circle",children:Object(c.jsx)("span",{children:w.check})}),Object(c.jsxs)("h1",{children:["THANK YOU ",s,"! "]}),Object(c.jsx)("h2",{children:"Your order completed successfully"}),Object(c.jsxs)("h3",{children:["The order details sent via Email to ",n.user.email,Object(c.jsx)("br",{})," Order number #",t]}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsxs)(i.b,{to:"/home",children:[Object(c.jsx)("span",{children:w.home})," HOME"]}),Object(c.jsxs)(i.b,{to:"/myAccount",children:[Object(c.jsx)("span",{children:w.user})," MY ACCOUNT"]})]})]})})},Pt=function(e){var t,n,s=null===(t=e.location.state)||void 0===t?void 0:t.total,r=null===(n=e.location.state)||void 0===n?void 0:n.cart,i=Object(a.useContext)(m).userData,u=Object(a.useState)(0),j=Object(l.a)(u,2),d=j[0],b=j[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],x=O[1],v=Object(o.g)();Object(a.useEffect)((function(){var e=!0;return e&&(r&&0!==r.length||v.push("/pageNotFound")),function(){return e=!1}}),[r,v]);var f=function(){var e=Object($.a)(Y.a.mark((function e(t){var n,c,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,at(i.token);case 3:return n=e.sent,b(n),c=t.target,a={date:Date(),orderNumber:n,total:s,cart:r,info:{billingInfo:{fullName:c[0].value,phoneNumber:c[1].value,adress:c[2].value,city:c[3].value,zipCode:c[4].value,country:c[5].value},cardInfo:{cardNumber:c[6].value,cardHolderName:c[7].value,expirationDate:c[8].value,cvv:c[9].value}}},e.next=9,fe(a,i.token).then((function(){return x(!0)})).catch((function(e){console.log(e)}));case 9:return e.next=11,ge(i.token).then().catch((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"payment-page",children:[p&&Object(c.jsx)("div",{className:"blur-background"}),Object(c.jsxs)("div",{className:"payment-page__contnet center",children:[Object(c.jsx)("h1",{children:"Payment"}),Object(c.jsx)("h2",{children:"Choose payment method"}),Object(c.jsxs)("div",{className:"payment-method",children:[Object(c.jsx)("div",{className:"payment-box credit-card",children:Object(c.jsx)("div",{className:"card",children:w.creditCard})}),Object(c.jsx)("div",{className:"payment-box",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:w.paypal})," PayPal"]})})]}),Object(c.jsx)("form",{onSubmit:f,className:"payment-form",children:Object(c.jsxs)("div",{className:"info",children:[Object(c.jsxs)("div",{className:"billing-info",children:[Object(c.jsx)("h3",{children:"Billing Info"}),Object(c.jsx)("label",{htmlFor:"full-name",children:"FULL NAME"}),Object(c.jsx)("input",{type:"text",name:"",id:"full-name",placeholder:"Enter your name"}),Object(c.jsx)("label",{htmlFor:"phone-number",children:"PHONE NUMBER"}),Object(c.jsx)("input",{type:"text",name:"",id:"phone-number",placeholder:"Enter your phone number"}),Object(c.jsx)("label",{htmlFor:"adress",children:"ADRESS"}),Object(c.jsx)("input",{type:"text",name:"",id:"adress",placeholder:"497 Evergreen Rd."}),Object(c.jsxs)("div",{className:"city-zipcode",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"city",children:"CITY"}),Object(c.jsx)("input",{type:"text",name:"",id:"city",placeholder:"Roseville"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"zip-code",children:"ZIP CODE"}),Object(c.jsx)("input",{type:"text",name:"",id:"zip-code",placeholder:"95673"})]})]}),Object(c.jsx)("label",{htmlFor:"coutnry",children:"COUNTRY"}),Object(c.jsxs)("select",{name:"",id:"country",children:[Object(c.jsx)("option",{value:"United-States",children:"United States"}),Object(c.jsx)("option",{value:"United-Kingdon",children:"United Kingdom"}),Object(c.jsx)("option",{value:"Israel",children:"Israel"})]})]}),Object(c.jsxs)("div",{className:"credit-card-info",children:[Object(c.jsx)("h3",{children:"Credit Card Info"}),Object(c.jsx)("label",{htmlFor:"card-number",children:"CARD NUMBER"}),Object(c.jsxs)("div",{className:"card-input",children:[Object(c.jsx)("input",{id:"card-number",type:"tel",maxLength:"19",placeholder:"4580 0000 1234 5678"}),Object(c.jsx)("div",{children:Object(c.jsx)("span",{children:w.visa})})]}),Object(c.jsx)("label",{htmlFor:"cardholder-name",children:"CARDHOLDER NAME"}),Object(c.jsx)("input",{type:"text",id:"cardholder-name",placeholder:"John Doe"}),Object(c.jsx)("label",{htmlFor:"expiration-date",children:"EXPIRATION DATE"}),Object(c.jsxs)("select",{name:"",id:"expiration-date",children:[Object(c.jsx)("option",{value:"02/21",children:"02/21"}),Object(c.jsx)("option",{value:"03/21",children:"03/21"}),Object(c.jsx)("option",{value:"04/21",children:"04/21"}),Object(c.jsx)("option",{value:"05/21",children:"05/21"}),Object(c.jsx)("option",{value:"06/21",children:"06/21"})]}),Object(c.jsx)("label",{htmlFor:"cvv",children:"CVV"}),Object(c.jsx)("input",{type:"tel",id:"cvv",placeholder:"123",maxLength:"3"}),Object(c.jsxs)("button",{type:"submit",children:[" ","Pay ",s," $ ",Object(c.jsx)("span",{children:w.rightArrow})]})]})]})}),p&&Object(c.jsx)(Rt,{orderNumber:d})]})]})},Bt=function(e){var t=e.location.pathname.replace("/",""),n=t.replace(t.match(/[A-Z]/)," ".concat(t.match(/[A-Z]/))),s=Object(a.useContext)(F),r=s.isItemAdded,i=s.setIsAddedToWishList,o=s.toggleModal,u=s.isModalActive,j=s.modalMessage,d=Object(a.useReducer)(H,W),b=Object(l.a)(d,2),h=b[0],O=b[1],p=Object(a.useState)(h),x=Object(l.a)(p,2),m=x[0],v=x[1],f=Object(a.useState)({min:0,max:1}),g=Object(l.a)(f,2),N=g[0],k=g[1];return Object(a.useEffect)((function(){var e=!0;if(e){window.scroll(0,0);var t=function(e){e().then((function(e){O(V(e)),v(e),k(function(e){var t=[];return e.forEach((function(e){t.push(e.price)})),{min:Math.min.apply(Math,t),max:Math.max.apply(Math,t)}}(e))})).catch((function(e){"Cannot find any books"===e.message&&(O(V(W)),v(W),k({min:0,max:1}))}))};switch(n){case"on Sale":t(Q);break;case"new Releases":t(X);break;case"best Sellers":t(Z);break;default:return}}return function(){return e=!1}}),[n]),Object(c.jsxs)("div",{className:"genres-page__container center",children:[Object(c.jsx)(It,{dispatchBooksList:O,pageBooksList:m,priceRange:N}),Object(c.jsxs)("div",{className:"genres__container",children:[Object(c.jsxs)("h1",{children:[n.toUpperCase()," MANGA"]}),0===h.length?Object(c.jsx)("h2",{children:"NO RESULTS!"}):Object(c.jsx)("div",{className:"grid__container",children:h.map((function(e){return Object(c.jsx)(ke,{book:e},e._id)}))})]}),(r||u)&&Object(c.jsx)("div",{onClick:function(){u?o():i(!1)},className:"blur-background"}),r&&Object(c.jsx)(we,{}),u&&Object(c.jsx)(ye,{message:j,closeButton:"CLOSE"})]})},Ft=function(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)(v,{children:[Object(c.jsx)(y,{}),Object(c.jsx)(R,{}),Object(c.jsx)(U,{children:Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{path:"/",exact:!0,children:Object(c.jsx)(o.a,{to:"/home"})}),Object(c.jsx)(o.b,{path:"/home",component:Re}),Object(c.jsx)(o.b,{path:"/genres/:genre",component:Tt}),Object(c.jsx)(o.b,{path:"/book/:id",component:Ct}),Object(c.jsx)(o.b,{path:"/searchResult/:result",component:Lt}),Object(c.jsx)(wt,{path:"/login",component:qe}),Object(c.jsx)(o.b,{path:"/contactUs"}),Object(c.jsx)(o.b,{path:"/help"}),Object(c.jsx)(Xe,{path:"/myAccount",component:kt}),Object(c.jsx)(o.b,{path:"/bestSellers",component:Bt}),Object(c.jsx)(o.b,{path:"/newReleases",component:Bt}),Object(c.jsx)(o.b,{path:"/onSale",component:Bt}),Object(c.jsx)(o.b,{path:"/coomingSoon"}),Object(c.jsx)(Xe,{path:"/wishList",component:nt}),Object(c.jsx)(Xe,{path:"/cart",component:Dt}),Object(c.jsx)(Xe,{path:"/payment",component:Pt}),Object(c.jsx)(o.b,{path:"*",component:Qe})]})}),Object(c.jsx)(B,{})]})})},Ut=function(){return Object(c.jsx)(Ft,{})},Gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,299)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};n(260);r.a.render(Object(c.jsx)(Ut,{}),document.getElementById("root")),Gt()}},[[261,1,2]]]);
//# sourceMappingURL=main.47e01d6d.chunk.js.map